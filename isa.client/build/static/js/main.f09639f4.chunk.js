(this["webpackJsonpisa.client"]=this["webpackJsonpisa.client"]||[]).push([[0],{100:function(e,n,a){e.exports=a.p+"static/media/prismic.8228ad64.svg"},107:function(e,n,a){e.exports=a(153)},153:function(e,n,a){"use strict";a.r(n);var t=a(0),r=a.n(t),o=a(19),i=a.n(o),c=a(83),l=a(40),s=(a(112),a(124),a(125),a(44)),u=a(9),p=a(85),m=a(32),d=a(33),b=a(102);function h(){var e=Object(m.a)(["\n  width: 100%;\n  max-width: 500px;\n  text-align: center;\n\n  img {\n    display: center;\n    flex-direction: column;\n    height: 80px;\n  }\n\n  form {\n    display: flex;\n    flex-direction: column;\n    margin-top: 30px;\n    padding: 60px 68px 40px;\n    margin-bottom: 90px;\n\n    input {\n      background: #e8f0fe;\n      border: 0;\n      border-radius: 4px;\n      height: 44px;\n      color: black;\n      margin: 0 0 10px;\n\n      &::placeholder {\n        color: black;\n        opacity: 1;\n      }\n    }\n\n    button {\n      margin: 5px 0 0;\n      height: 44px;\n      background: #343a40;\n      font-weight: bold;\n      color: #fff;\n      border: 0;\n      border-radius: 4px;\n      font-size: 16px;\n      transition: background 0.3s;\n\n      &:hover {\n        background: ",";\n      }\n    }\n\n    /*a = Link - react-router-dom */\n    a {\n      color: #fff;\n      margin-top: 15px;\n      font-size: 16px;\n      opacity: 0.8;\n\n      &:hover {\n        opacity: 4;\n      }\n    }\n  }\n"]);return h=function(){return e},e}function f(){var e=Object(m.a)(["\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return f=function(){return e},e}var E=d.b.div(f()),v=d.b.div(h(),Object(b.a)(.08,"#343A40"));function g(e){var n=e.children;return r.a.createElement(E,null,r.a.createElement(v,null,n))}function x(){var e=Object(m.a)(["\n  height: 100%;\n"]);return x=function(){return e},e}var y=d.b.div(x()),O=a(21),k=a(161),j=a(162),I=a(160);function w(){return r.a.createElement(k.a,{collapseOnSelect:!0,expand:"xl",bg:"dark",variant:"dark"},r.a.createElement(k.a.Brand,null,r.a.createElement(O.a,{to:"/home"},"ISA Manager")),r.a.createElement(k.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(k.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(j.a,{className:"mr-auto"},r.a.createElement(I.a,{title:"Dashboards",id:"collasible-nav-dropdown"},r.a.createElement(I.a.Item,null,r.a.createElement(O.a,{to:"/operationalArea"},"An\xe1lise de Equipamentos"))),r.a.createElement(I.a,{title:"Cadastros",id:"collasible-nav-dropdown"},r.a.createElement(I.a.Item,null,r.a.createElement(O.a,{to:"/operationalArea"},"\xc1reas Operacionais")),r.a.createElement(I.a.Item,null,r.a.createElement(O.a,{to:"/equipment"},"Equipamentos")),r.a.createElement(I.a.Item,null,r.a.createElement(O.a,{to:"/equipmentType"},"Tipos")))),r.a.createElement(j.a,null,r.a.createElement(j.a.Link,null,r.a.createElement(O.a,{to:"/profile"},"Perfil")))))}function S(e){var n=e.children;return r.a.createElement(y,null,r.a.createElement(w,null),n)}var _=a(56),N=a(104),A=a(103),R=a(16),q=a(93),U=a.n(q),C=a(94),P=a.n(C),G=a(95),L={token:null,signed:!1,loading:!1};var T=Object(R.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:L,n=arguments.length>1?arguments[1]:void 0;return Object(G.a)(e,(function(e){switch(n.type){case"@auth/SIGN_IN_REQUEST":e.loading=!0;break;case"@auth/SIGN_IN_SUCCESS":e.token=n.payload.token,e.loading=!0,e.signed=!0;break;case"@auth/SIGN_IN_FAILURE":e.loading=!1}}))}}),F=a(28),z=a.n(F),D=a(18),B=a(96),Q=a.n(B).a.create({baseURL:"http://localhost:3333/"}),M=a(14),J=Object(M.a)();function H(e,n){return{type:"@auth/SIGN_IN_SUCCESS",payload:{token:e,user:n}}}var Y=z.a.mark(V),K=z.a.mark(W);function V(e){var n,a,t,r,o,i,c;return z.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return n=e.payload,s.prev=1,a=n.email,t=n.password,s.next=5,Object(D.call)(Q.post,"sessions",{email:a,password:t});case 5:if(r=s.sent,o=r.data,i=o.token,(c=o.user).is_admin){s.next=10;break}return l.b.error("O Usu\xe1rio n\xe3o \xe9 \xe9 administrador de servi\xe7os"),s.abrupt("return");case 10:return Q.defaults.headers.Authorization="Bearer ".concat(i),s.next=13,Object(D.put)(H(i,c));case 13:J.push("/dashboard"),s.next=21;break;case 16:return s.prev=16,s.t0=s.catch(1),l.b.error("Falha na autentica\xe7\xe3o, verifique seus dados"),s.next=21,Object(D.put)({type:"@auth/SIGN_IN_FAILURE"});case 21:case"end":return s.stop()}}),Y,null,[[1,16]])}function W(e){var n,a,t,r;return z.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return n=e.payload,a=n.name,t=n.email,r=n.password,o.prev=2,o.next=5,Object(D.call)(Q.post,"users",{name:a,email:t,password:r,is_admin:!0});case 5:J.push("/"),o.next=13;break;case 8:return o.prev=8,o.t0=o.catch(2),l.b.error("Falha no cadastro, verifique os campos informados"),o.next=13,Object(D.put)({type:"@auth/SIGN_IN_FAILURE"});case 13:case"end":return o.stop()}}),K,null,[[2,8]])}var X=Object(D.all)([Object(D.takeLatest)("persist/REHYDRATE",(function(e){var n=e.payload;if(n){var a=n.auth.token;a&&(Q.defaults.headers.Authorization="Bearer ".concat(a))}})),Object(D.takeLatest)("@auth/SIGN_IN_REQUEST",V),Object(D.takeLatest)("@auth/SIGN_UP_REQUEST",W)]),Z=z.a.mark($);function $(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.all)([X]);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),Z)}var ee,ne=Object(N.a)({sagaMonitor:null}),ae=[ne],te=function(e,n){var a=R.a.apply(void 0,Object(A.a)(n));return Object(R.e)(e,a)}((ee=T,Object(_.a)({key:"isa",storage:U.a,stateReconciler:P.a,whitelist:["auth","user"]},ee)),ae),re=Object(_.b)(te);function oe(e){var n=e.component,a=e.isPrivate,t=Object(p.a)(e,["component","isPrivate"]),o=te.getState().auth.signed;if(!o&&a)return r.a.createElement(u.a,{to:"/"});if(o&&!a)return r.a.createElement(u.a,{to:"/dashboard"});var i=o?S:g;return r.a.createElement(u.b,Object.assign({},t,{render:function(e){return r.a.createElement(i,null,r.a.createElement(n,e))}}))}ne.run($),oe.defaultProps={isPrivate:!1};var ie=function(){return r.a.createElement("h1",null,"Dashboard de Status dos Equipamentos")};var ce=function(){return r.a.createElement("h1",null,"Cadastro de Equipamentos")};var le=function(){return r.a.createElement("h1",null,"Cadastro de Tipos de Equipamentos")};var se=function(){return r.a.createElement("h1",null,"Areas Operacionais")},ue=a(60),pe=a(59),me=a(100),de=a.n(me),be=ue.a().shape({email:ue.b().email("Insira um e-mail v\xe1lido").required("O e-mail \xe9 obrigat\xf3rio"),password:ue.b().min(6,"A senha deve possuir no m\xednimo 6 caracteres").required("A senha \xe9 obrigat\xf3ria")});function he(){var e=Object(s.b)(),n=Object(s.c)((function(e){return e.auth.loading}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{src:de.a,alt:"ISA Engenharia"}),r.a.createElement(pe.a,{schema:be,onSubmit:function(n){var a=n.email,t=n.password;e(function(e,n){return{type:"@auth/SIGN_IN_REQUEST",payload:{email:e,password:n}}}(a,t))}},r.a.createElement(pe.b,{name:"email",type:"email",placeholder:"Digite seu e-mail"}),r.a.createElement(pe.b,{name:"password",type:"password",placeholder:"Digite sua senha"}),r.a.createElement("button",{type:"submit"},n?"Carregando...":"Acessar")))}function fe(){return r.a.createElement(u.d,null,r.a.createElement(oe,{path:"/",exact:!0,component:he}),r.a.createElement(oe,{path:"/dashboard",exact:!0,component:ie,isPrivate:!0}),r.a.createElement(oe,{path:"/equipment",exact:!0,component:ce,isPrivate:!0}),r.a.createElement(oe,{path:"/type",exact:!0,component:le,isPrivate:!0}),r.a.createElement(oe,{path:"/area",exact:!0,component:se,isPrivate:!0}))}a(152);function Ee(){var e=Object(m.a)(["\n  @import url('https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap');\n\n  *{\n    margin: 0;\n    padding: 0;\n    outline: 0;\n    box-sizing: border-box;\n\n  }\n\n  *:focus{\n    outline: 0;\n  }\n\n  html, body, #root{\n    height: 100%;\n  }\n\n  body{\n    -webkit-font-smoothing:antialiased;\n  }\n\n  body, input, button {\n    font: 15px 'Roboto', sans-serif;\n  }\n\n  a{\n    text-decoration: none;\n  }\n\n  ul, li{\n    list-style: none;\n  }\n\n  button{\n    cursor:pointer\n  }\n"]);return Ee=function(){return e},e}var ve=Object(d.a)(Ee());var ge=function(){return r.a.createElement(s.a,{store:te},r.a.createElement(c.a,{persistor:re},r.a.createElement(u.c,{history:J},r.a.createElement(fe,null),r.a.createElement(ve,null),r.a.createElement(l.a,{autoClose:3e3}))))};i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(ge,null)),document.getElementById("root"))}},[[107,1,2]]]);
//# sourceMappingURL=main.f09639f4.chunk.js.map